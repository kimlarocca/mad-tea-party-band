$(document).ready(function(){function e(){delta=clock.getDelta(),requestAnimationFrame(e),t(),n()}function t(){for(var e=smokeParticles.length;e--;)smokeParticles[e].rotation.z+=.2*delta}function n(){c.rotation.x+=.005,c.rotation.y+=.01,cubeSineDriver+=.01,c.position.z=100+500*Math.sin(cubeSineDriver),i.render(r,a)}$("#trigger").click(function(){$("#menu").toggleClass("open"),$("#trigger").toggleClass("open")}),$(".nav-link").click(function(){$("#menu").removeClass("open"),$("#trigger").removeClass("open")});var o=$("#what").offset().top;$(function(){$(window).scroll(function(){$(window).scrollTop()>=o?$("#trigger").addClass("black"):$("#trigger").removeClass("black")})});var a,r,i,s,l,c;!function(){clock=new THREE.Clock,i=new THREE.WebGLRenderer({alpha:!0}),i.setClearColor(0,.1),i.setSize(window.innerWidth,window.innerHeight),r=new THREE.Scene;var e=new THREE.AmbientLight(16777215);for(r.add(e),a=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,1e4),a.position.z=1e3,r.add(a),s=new THREE.CubeGeometry(200,200,200),l=new THREE.MeshLambertMaterial({color:16305034,wireframe:!1}),c=new THREE.Mesh(s,l),cubeSineDriver=0,smokeTexture=THREE.ImageUtils.loadTexture("http://kimlarocca.test/images/smoke.png"),smokeMaterial=new THREE.MeshLambertMaterial({color:16305034,opacity:.1,map:smokeTexture,transparent:!0}),smokeGeo=new THREE.PlaneGeometry(300,300),smokeParticles=[],p=0;p<150;p++){var t=new THREE.Mesh(smokeGeo,smokeMaterial);t.position.set(500*Math.random()-250,500*Math.random()-250,1e3*Math.random()-100),t.rotation.z=360*Math.random(),r.add(t),smokeParticles.push(t)}document.getElementById("smoke").appendChild(i.domElement)}(),e(),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})});